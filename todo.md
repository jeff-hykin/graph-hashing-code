
# pre-alpha:
- have virkshop/enter do the basics of
    - DONE: generate the #mixture
    - DONE: generate the .zshrc file
    - DONE convert the system_tools.yaml into a nix file using deno
        - convert the warehouses using the template, and concat
        - convert the packages using the template, and concat
        - create a javascript value to nix value converter
            - figure out how to escape js string into a nix string
            - recusrive method for converting objects into nix-attribute sets
        - figure out how to escape the attribute paths for packages
        - keep track of packages that are native build inputs or regular build inputs
        - generate the mkshell at the end
    - DONE run the nix-shell command with the generated nix.shell
    - DONE create a new fix for getting package paths
        need to keep track of paths when generating yaml file
        add another field to the (package) that allows a package to export
        env vars, which can be done in the shellHook
        `__core__.lib.main.makeLibraryPath [ __core__.pkgs.${attributePath} ]`
        packagePathsAsJson = (main.toJSON
            ({
                packagePathFor = depedencyPackages;
                libPathFor = (main.listToAttrs
                    (main.map
                        (each:
                            ({
                                name = each.name;
                                value = "${main.makeLibraryPath [ each.value ]}";
                            })
                        )
                        (tomlAndBuiltinPackagesWithSources)
                    )
                );
            })
        );
    - fix problem with linked folders
    - create a proxy-object representing the ENV
        - allow for getting and setting 
        - import a deno.js file and watch for changes to the proxy
        - write a temp file deno.js.sh that translates all the env changes to zsh
        - run the zsh file
    - load all the env vars

# beta
- allow loading advanced nix code
- cli "virkshop/install [package name]"

old todo:

- create virkshop/after_entering
- have `virkshop.trigger` run/execute all the files without `.deno.js`, and async import all the files that DO have `.deno.js`
    - fix the order (sort) of the trigger function
- add a `zsh_tools` mixin with events for enter/exit
    - rename `phase_1` to `before_entering`
    - use `zsh_tools/events/zsh_tools/during_start` as a replacement for `phase_2`
- create `virkshop.appendToEnvVar`
    - will need a way to save/seralize data
        - add a hidden getter that maps to a json file inside of short term temp
    - create `setEnvVar()`
        - add a process as the very first .zsh script, have it be dynamically generated by a deno script
            - handle defining env vars
    - create `appendToEnvVar()`
    - create `prependToEnvVar()`
    - make those functions give an error if they're executed inside the Virkshop itself (or come up with a complex system of writing to another file and having zsh source that file after every execution)
- inline all the startup scripts
    - generate a single .zshrc file
    - for each .zsh file, inline it
    - for all other files, just try running them
- do custom work for the home mixin
    - notify user about potential conflicts
    - notify mixins if they attempt to use something like `.bashrc`
- create `addToGitignore()` function
- mixin tools
    - redo the startup message
    - have nix_tools use deno to link to the nix profile real-home, then 
    - fix git hooks
- figure out how to combine the nix file from individual mixins
- `triggerEvent()` function
- `wrapExecutable()` function for sudo, vim, and the like
- `appendToEnvVar()`
- `zshrc()`
- standardize and publish a deno FileSystem lib
- standardize and publish a deno Virkshop lib
- consider having a background deno task for faster execution times of scripts
- consider verifying the structure (broken links) as a background task after the shell starts
- make the nix install check faster
- make enter rewrite itself (and ignore changes) after a user successfully runs it once. Have the rewrite change the hashbang